qtp1307904972-37 2024-10-26 15:41:25,366 DEBUG  servlet.BaseControllerServlet - Processing user request, msgName: PaymentInitRequest, webAppAddress: https://ipgtest.netradionica.com/IPGDemoPlugin, ipgUrlAddress: https://ipgtest.novabanka.com/IPGWeb/servlet/, terminalId: 89110001, terminalPassword.length: 8
qtp1307904972-37 2024-10-26 15:41:25,420 DEBUG  servlet.BaseControllerServlet - Payment 3DS Init POST method invoked
qtp1307904972-37 2024-10-26 15:41:25,428 DEBUG GPaymentServiceJersey1RESTImpl - Sending payment 3DS init, paymentRequest: PaymentInitRequest[msgName=PaymentInitRequest, version=1, id=89110001, password=test1234, ipgClientType=3, ipgurl=https://ipgtest.novabanka.com/IPGWeb/servlet/, secretKey.length=24, langId=USA, cartContent=CartContent[cartContentItems=[CartContentItem[productId=B3442FD-22, productDescription=Female Bicycle Booster GALAXY red, quantity=1, singlePrice=87.52, CartContentItem[productId=KF85Y321-89, productDescription=Bicycle ALPINA BLIZZARD FS black green, quantity=1, singlePrice=205], clientIpAddress=null, clientUserAgent=null, clientHttpHeaders=null, buyerFirstName=Alberto, buyerLastName=Basso, buyerUserId=435365463, buyerPhoneNumber=+39 555 345 6744, buyerEmailAddress=alberto.basso@yahoo.com, shippingInfo=ShippingInfo[recipientFirstName=Claudio, recipientLastName=Carboni, recipientPhoneNumber=+39 555 386 4628, shippingAddress=ShippingAddress[country=ITA, city=Rome, zip=00144, addrLine1=VIALE EUROPA 21, addrLine2=VIALE EUROPA 22, addrLine3=VIALE EUROPA 23]], billingInfo=BillingInfo[billingFirstName=Drago, billingLastName=Basso, billingAddress=BillingAddress[country=ITA, city=Padova, zip=35100, addrLine1=Via Manara 31, addrLine2=Via Manara 32, addrLine3=Via Manara 33]], acctType=03, accountInfo=AccountInfo[chAccAgeInd=01chAccDate=20140328chAccChangeInd=01chAccChange=20160712chAccPwChangeInd=01chAccPwChange=20170328shipAddressUsageInd=01shipAddressUsage=20160714txnActivityDay=1txnActivityYear=21provisionAttemptsDay=0nbPurchaseAccount=11suspiciousAccActivity=01shipNameIndicator=01paymentAccInd=01paymentAccAge=20160917], currentAuthenticationInfo=AuthenticationInfo[threeDSReqAuthMethod=02, threeDSReqAuthTimestamp=201711071307, threeDSReqAuthData=valid login at UL TS BV], priorAuthenticationInfo=PriorAuthenticationInfo[threeDSReqPriorRef=d7c1ee99-9478-44a6-b1f2-391e29c6b340, threeDSReqPriorAuthMethod=02, threeDSReqPriorAuthTimestamp=201711071307, threeDSReqPriorAuthData=valid login at UL TS BV], action=1, receipturl=https://ipgtest.netradionica.com/IPGDemoPlugin/paymentNotification.html, errorurl=https://ipgtest.netradionica.com/IPGDemoPlugin/paymentError.html, currencycode=977, amt=15.00, trackid=CTV-TEST-PureBuy-1, payinst=, recurAction=, recurid=null, recurContractId=null, recurNewCardExpDate=null, purchaseInstalData=, cardSHA2=Y, paymentTimeout=30, bankStmtFreeText=Bank Statement Free Text, paymentDescription=Payment Description, instructedFees=, notificationFormat=json, paymentPageMode=0, udf1=AA, udf2=BB, udf3=CC, udf4=DD, udf5=EE]
qtp1307904972-37 2024-10-26 15:41:25,782 DEBUG GPaymentServiceJersey1RESTImpl - Message Verifier Base loaded, messageVerifierBase.length: 86
qtp1307904972-37 2024-10-26 15:41:25,784 DEBUG GPaymentServiceJersey1RESTImpl - REST client posting, ipgUrl: https://ipgtest.novabanka.com/IPGWeb/servlet/PaymentInitRequest, connectTimeout: 5000, readTimeout: 55000
qtp1307904972-37 2024-10-26 15:41:26,552 DEBUG GPaymentServiceJersey1RESTImpl - Received REST client response, mediaType.getSubtype: json, mediaType: application/json; charset=UTF-8
qtp1307904972-37 2024-10-26 15:41:26,589 DEBUG GPaymentServiceJersey1RESTImpl - Message Verifier Base loaded, messageVerifierBase.length: 151
qtp1307904972-37 2024-10-26 15:41:26,590 DEBUG GPaymentServiceJersey1RESTImpl - Payment 3DS init response loaded, responseBean: PaymentInitResponse[type=valid, errorCode=null, errorService=null, errorDesc=null, messageName=PaymentInitResponse, messageVersion=1, msgDateTime=2024-10-26 15:41:25.739, messageVerifier=AlG4PHnIz97WGI6tbN09YyJdtjJ8jqwverr8e6hiTos=, merchantRequest=PaymentInitRequest[msgName=PaymentInitRequest, version=1, id=89110001, password=test1234, ipgClientType=3, ipgurl=https://ipgtest.novabanka.com/IPGWeb/servlet/, secretKey.length=24, langId=USA, cartContent=CartContent[cartContentItems=[CartContentItem[productId=B3442FD-22, productDescription=Female Bicycle Booster GALAXY red, quantity=1, singlePrice=87.52, CartContentItem[productId=KF85Y321-89, productDescription=Bicycle ALPINA BLIZZARD FS black green, quantity=1, singlePrice=205], clientIpAddress=null, clientUserAgent=null, clientHttpHeaders=null, buyerFirstName=Alberto, buyerLastName=Basso, buyerUserId=435365463, buyerPhoneNumber=+39 555 345 6744, buyerEmailAddress=alberto.basso@yahoo.com, shippingInfo=ShippingInfo[recipientFirstName=Claudio, recipientLastName=Carboni, recipientPhoneNumber=+39 555 386 4628, shippingAddress=ShippingAddress[country=ITA, city=Rome, zip=00144, addrLine1=VIALE EUROPA 21, addrLine2=VIALE EUROPA 22, addrLine3=VIALE EUROPA 23]], billingInfo=BillingInfo[billingFirstName=Drago, billingLastName=Basso, billingAddress=BillingAddress[country=ITA, city=Padova, zip=35100, addrLine1=Via Manara 31, addrLine2=Via Manara 32, addrLine3=Via Manara 33]], acctType=03, accountInfo=AccountInfo[chAccAgeInd=01chAccDate=20140328chAccChangeInd=01chAccChange=20160712chAccPwChangeInd=01chAccPwChange=20170328shipAddressUsageInd=01shipAddressUsage=20160714txnActivityDay=1txnActivityYear=21provisionAttemptsDay=0nbPurchaseAccount=11suspiciousAccActivity=01shipNameIndicator=01paymentAccInd=01paymentAccAge=20160917], currentAuthenticationInfo=AuthenticationInfo[threeDSReqAuthMethod=02, threeDSReqAuthTimestamp=201711071307, threeDSReqAuthData=valid login at UL TS BV], priorAuthenticationInfo=PriorAuthenticationInfo[threeDSReqPriorRef=d7c1ee99-9478-44a6-b1f2-391e29c6b340, threeDSReqPriorAuthMethod=02, threeDSReqPriorAuthTimestamp=201711071307, threeDSReqPriorAuthData=valid login at UL TS BV], action=1, receipturl=https://ipgtest.netradionica.com/IPGDemoPlugin/paymentNotification.html, errorurl=https://ipgtest.netradionica.com/IPGDemoPlugin/paymentError.html, currencycode=977, amt=15.00, trackid=CTV-TEST-PureBuy-1, payinst=, recurAction=, recurid=null, recurContractId=null, recurNewCardExpDate=null, purchaseInstalData=, cardSHA2=Y, paymentTimeout=30, bankStmtFreeText=Bank Statement Free Text, paymentDescription=Payment Description, instructedFees=, notificationFormat=json, paymentPageMode=0, udf1=AA, udf2=BB, udf3=CC, udf4=DD, udf5=EE], paymentId=610180587411543005, redirectUrl=https://ipgtest.novabanka.com/IPGWeb/servlet/PaymentSelection.html]
qtp1307904972-37 2024-10-26 15:41:26,592 DEBUG  servlet.BaseControllerServlet - Payment 3DS Redirecting, redirectUrl: https://ipgtest.novabanka.com/IPGWeb/servlet/PaymentSelection.html?paymentID=610180587411543005
qtp1307904972-37 2024-10-26 15:41:26,593 DEBUG  servlet.BaseControllerServlet - Base controller servlet forwarding, finalUrl: https://ipgtest.novabanka.com/IPGWeb/servlet/PaymentSelection.html?paymentID=610180587411543005, isError: false, receiptUrl: https://ipgtest.novabanka.com/IPGWeb/servlet/PaymentSelection.html?paymentID=610180587411543005
qtp1307904972-38 2024-10-26 15:41:37,593 DEBUG    servlet.NotificationServlet - Notification request servlet invoked, notificationContentType: application/json
qtp1307904972-38 2024-10-26 15:41:37,600 DEBUG e.IPGPaymentServiceDefaultImpl - Processing Notification JSON request, notificationUrlBulder: rs.asoft.ipg.demoplugin.servlet.IPGDemoNotificationUrlBuilder@5e947333, notificationRequestJson: {
  "msgName" : "PaymentNotificationRequest",
  "version" : "1",
  "msgDateTime" : "2024-10-26 15:41:36.639",
  "msgVerifier" : "/WdMK9tSj6lD/s1DwNB+0pGFpHlNcN5Cy6iwiR3lZ/Q=",
  "type" : "valid",
  "result" : "CAPTURED",
  "errorCode" : null,
  "errorService" : null,
  "errorDesc" : null,
  "action" : "1",
  "payinst" : "VPAS",
  "paymentid" : "610180587411543005",
  "tranid" : "335207428411543002",
  "paymentPageMode" : "0",
  "currencycode" : "977",
  "amt" : "15.00",
  "auth" : "999999",
  "trackid" : "CTV-TEST-PureBuy-1",
  "ref" : "430015007876",
  "responsecode" : "00",
  "responsedescription" : "",
  "cardtype" : "MC",
  "liability" : "Y",
  "recurid" : null,
  "recurContractId" : null,
  "purchaseInstalData" : null,
  "expdate" : "202612",
  "cardlastfourdigits" : "0325",
  "cardcountry" : "LB",
  "ipcountry" : "BA",
  "cardSHA2" : "HNYgYZqUngnGz5H3vQDGqJwvK/ixF605uygt8Alv9qI=",
  "udf1" : "AA",
  "udf2" : "BB",
  "udf3" : "CC",
  "udf4" : "DD",
  "udf5" : "EE",
  "riskLevel" : null,
  "riskScore" : null,
  "riskThreshold" : null,
  "riskMaxScore" : null
}
qtp1307904972-38 2024-10-26 15:41:37,607 DEBUG e.IPGPaymentServiceDefaultImpl - Parsing JSON bytes, httpBody: 7B0D0A2020226D73674E616D6522203A20225061796D656E744E6F74696669636174696F6E52657175657374222C0D0A20202276657273696F6E22203A202231222C0D0A2020226D73674461746554696D6522203A2022323032342D31302D32362031353A34313A33362E363339222C0D0A2020226D7367566572696669657222203A20222F57644D4B3974536A366C442F733144774E422B3070474670486C4E634E3543793669776952336C5A2F513D222C0D0A2020227479706522203A202276616C6964222C0D0A202022726573756C7422203A20224341505455524544222C0D0A2020226572726F72436F646522203A206E756C6C2C0D0A2020226572726F725365727669636522203A206E756C6C2C0D0A2020226572726F724465736322203A206E756C6C2C0D0A202022616374696F6E22203A202231222C0D0A202022706179696E737422203A202256504153222C0D0A2020227061796D656E74696422203A2022363130313830353837343131353433303035222C0D0A2020227472616E696422203A2022333335323037343238343131353433303032222C0D0A2020227061796D656E74506167654D6F646522203A202230222C0D0A20202263757272656E6379636F646522203A2022393737222C0D0A202022616D7422203A202231352E3030222C0D0A2020226175746822203A2022393939393939222C0D0A202022747261636B696422203A20224354562D544553542D507572654275792D31222C0D0A20202272656622203A2022343330303135303037383736222C0D0A202022726573706F6E7365636F646522203A20223030222C0D0A202022726573706F6E73656465736372697074696F6E22203A2022222C0D0A202022636172647479706522203A20224D43222C0D0A2020226C696162696C69747922203A202259222C0D0A2020227265637572696422203A206E756C6C2C0D0A2020227265637572436F6E7472616374496422203A206E756C6C2C0D0A2020227075726368617365496E7374616C4461746122203A206E756C6C2C0D0A2020226578706461746522203A2022323032363132222C0D0A202022636172646C617374666F757264696769747322203A202230333235222C0D0A20202263617264636F756E74727922203A20224C42222C0D0A2020226970636F756E74727922203A20224241222C0D0A202022636172645348413222203A2022484E5967595A71556E676E477A35483376514447714A77764B2F6978463630357579677438416C763971493D222C0D0A2020227564663122203A20224141222C0D0A2020227564663222203A20224242222C0D0A2020227564663322203A20224343222C0D0A2020227564663422203A20224444222C0D0A2020227564663522203A20224545222C0D0A2020227269736B4C6576656C22203A206E756C6C2C0D0A2020227269736B53636F726522203A206E756C6C2C0D0A2020227269736B5468726573686F6C6422203A206E756C6C2C0D0A2020227269736B4D617853636F726522203A206E756C6C0D0A7D
qtp1307904972-38 2024-10-26 15:41:37,622 DEBUG e.IPGPaymentServiceDefaultImpl - Message Verifier Base loaded, messageVerifierBase.length: 137
qtp1307904972-38 2024-10-26 15:41:37,623 DEBUG e.IPGPaymentServiceDefaultImpl - IPG Notification result url loaded, notificationResultUrl: https://ipgtest.netradionica.com/IPGDemoPlugin/paymentResult.html?PaymentID=610180587411543005&paymentPageMode=STANDARD&msgName=PaymentNotificationRequest&version=1&msgDateTime=2024-10-26 15:41:36.639&TransID=335207428411543002&action=1&recurid=&recurContractId=&purchaseInstalData=&resultcode=CAPTURED&type=valid&errorCode=&errorDesc=&Currency=977&Amount=15.00&TrackID=CTV-TEST-PureBuy-1&cardType=MC&payinst=VPAS&liability=Y&responsecode=00&responsedescription=&ref=430015007876&auth=999999&expdate=202612&cardlastfourdigits=0325&cardSHA2=HNYgYZqUngnGz5H3vQDGqJwvK/ixF605uygt8Alv9qI=&udf1=AA&udf2=BB&udf3=CC&udf4=DD&udf5=EE&myBankBuyerBankAlias=&riskLevel=&riskScore=&riskThreshold=&riskMaxScore=&cardcountry=LB&shipOptionId=&paymentAmt=&city=&country=&countrySubdivision=&line1=&line2=&line3=&postalCode=&recipientName=&recipientPhoneNumber=&ipcountry=BA&msgVerifier=/WdMK9tSj6lD/s1DwNB+0pGFpHlNcN5Cy6iwiR3lZ/Q=
qtp1307904972-38 2024-10-26 15:41:37,625 DEBUG e.IPGPaymentServiceDefaultImpl - Message Verifier Base loaded, messageVerifierBase.length: 983
qtp1307904972-38 2024-10-26 15:41:37,627 DEBUG e.IPGPaymentServiceDefaultImpl - IPG Notification response JSON loaded, notificationResponseJson: {"paymentID":"610180587411543005","msgVerifier":"QCl8DfJVzlhzensa+c\/6WGGuaXiDfWOMSL1ShuIKSsI=","msgName":"PaymentNotificationResponse","version":"1","browserRedirectionURL":"https:\/\/ipgtest.netradionica.com\/IPGDemoPlugin\/paymentResult.html?PaymentID=610180587411543005&paymentPageMode=STANDARD&msgName=PaymentNotificationRequest&version=1&msgDateTime=2024-10-26 15:41:36.639&TransID=335207428411543002&action=1&recurid=&recurContractId=&purchaseInstalData=&resultcode=CAPTURED&type=valid&errorCode=&errorDesc=&Currency=977&Amount=15.00&TrackID=CTV-TEST-PureBuy-1&cardType=MC&payinst=VPAS&liability=Y&responsecode=00&responsedescription=&ref=430015007876&auth=999999&expdate=202612&cardlastfourdigits=0325&cardSHA2=HNYgYZqUngnGz5H3vQDGqJwvK\/ixF605uygt8Alv9qI=&udf1=AA&udf2=BB&udf3=CC&udf4=DD&udf5=EE&myBankBuyerBankAlias=&riskLevel=&riskScore=&riskThreshold=&riskMaxScore=&cardcountry=LB&shipOptionId=&paymentAmt=&city=&country=&countrySubdivision=&line1=&line2=&line3=&postalCode=&recipientName=&recipientPhoneNumber=&ipcountry=BA&msgVerifier=\/WdMK9tSj6lD\/s1DwNB+0pGFpHlNcN5Cy6iwiR3lZ\/Q="}
qtp1307904972-38 2024-10-26 15:41:37,629 DEBUG    servlet.NotificationServlet - Writing notification response bytes, notificationResponseXmlBytes.length: 1098
qtp1307904972-38 2024-10-26 15:41:37,630 DEBUG    servlet.NotificationServlet - Notification response bytes sent
qtp1307904972-39 2024-10-26 15:41:37,815 DEBUG   servlet.IPGDemoResultServlet - IPG Demo Result servlet redirecting to result page, resultPage: /WEB-INF/jsp/payment3DSResult.jsp